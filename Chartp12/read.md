## Chartp12 动态内存与智能指针

#### shared_ptr类
智能指针也是模板，使用方式与普通指针类似。解引用一个智能指针返回它指向的对象。
支持操作如下：
```c++
std::shared_ptr<T> sp;

*p; // 解引用p，获得它指向的对象
p.get(); //	返回p中的指针。
swap(p, q); // 交换p、q的指针
p.swap(q); 


// 特有的操作
p = q; // p、q都是shared_ptr，此操作会递减p的引用计数、递增q的引用计数；若p的引用计数变成0，则将其管理的内存释放

p.user_count(); // 返回共享对象的智能指针数量
```

#### 使用动态生存期的资源类
程序使用动态内存出于一下三个原因：
1）程序不知道自己需要使用多少对象
2）程序不知道所需对象的准确类型
3）程序需要在多个对象间共享数据

StrBlob类

#### 直接管理内存
